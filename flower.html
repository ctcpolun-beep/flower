<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>é¬±é‡‘é¦™ä¹‹æ£®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mobile-drag-drop@2.3.0-rc.2/release/default.css">
    <script src="https://cdn.jsdelivr.net/npm/mobile-drag-drop@2.3.0-rc.2/release/index.min.js"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="é¬±é‡‘é¦™ä¹‹æ£®">
    <link rel="apple-touch-icon" href="icon-192.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&family=Noto+Serif+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #ff758c; --s: #5d4037; --l: #4a7c59; --bg: #fffafb; --text: #2d3436; }
        body { font-family: 'Noto Serif TC', serif; background-color: var(--bg); color: var(--text); transition: 0.5s; overflow-x: hidden; scroll-behavior: smooth; }
        .cute-font { font-family: 'ZCOOL XiaoWei', serif; }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(0,0,0,0.1); }
        
        .sway { animation: sway 4s ease-in-out infinite; transform-origin: bottom center; }
        @keyframes sway { 0%, 100% { transform: rotate(-1.5deg); } 50% { transform: rotate(1.5deg); } }
        .grow-anim { animation: grow 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes grow { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .callout { 
            position: absolute; 
            padding: 12px; 
            border-radius: 18px; 
            width: 160px; /* ç¸®å°å¯¬åº¦ä»¥é©æ‡‰æ‰‹æ©Ÿ */
            opacity: 0; 
            transition: 0.4s; 
            pointer-events: none; 
            z-index: 50; 
            font-size: 11px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); 
        }
        /* æ‰‹æ©Ÿç‰ˆè‡ªå‹•èª¿æ•´ä½ç½®ï¼Œé¿å…è¶…å‡ºè¢å¹• */
        @media (max-width: 768px) {
            .callout { width: 140px; }
            #ana-petal { top: 10px !important; right: 10px !important; }
            #ana-stem { top: 40% !important; left: 10px !important; }
            #ana-leaf { bottom: 20% !important; right: 10px !important; }
            #ana-bulb { bottom: 10px !important; left: 10px !important; }
        }
        .callout.active { opacity: 1; pointer-events: auto; transform: scale(1); }

        input[type=range] { appearance: none; -webkit-appearance: none; -moz-appearance: none; width: 100%; background: transparent; cursor: pointer; }
        input[type=range]::-webkit-slider-runnable-track { height: 8px; background: linear-gradient(to right, #ddd 0%, var(--p) 50%, #ddd 100%); border-radius: 10px; }
        input[type=range]::-webkit-slider-thumb { appearance: none; -webkit-appearance: none; -moz-appearance: none; height: 24px; width: 24px; border-radius: 50%; background: var(--p); cursor: grab; margin-top: -8px; box-shadow: 0 0 10px rgba(255,117,140,0.5); transition: transform 0.2s; }
        input[type=range]::-webkit-slider-thumb:active { cursor: grabbing; transform: scale(1.2); }

        .plot-box { height: 180px; width: 70px; display: flex; flex-direction: column-reverse; align-items: center; position: relative; }
        .soil-base { width: 60px; height: 12px; background: rgba(93, 64, 55, 0.2); border-radius: 50%; position: absolute; bottom: -5px; transition: 0.5s; }
        .plot-box.active .soil-base { background: #5d4037; transform: scale(1.1); }
        
        #modal { display: none; }
        #modal.active { display: flex; align-items: center; justify-content: center; }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: var(--p); border-radius: 10px; }
        
        canvas { background: #fff; border-radius: 20px; cursor: crosshair; }
        
        .big-action-btn { transition: all 0.3s; cursor: pointer; }
        .big-action-btn:hover { transform: scale(1.05); box-shadow: 0 10px 30px rgba(255,117,140,0.4); }
        .big-action-btn:active { transform: scale(0.98); }

        .color-btn { width: 28px; height: 28px; border-radius: 50%; border: 2px solid transparent; cursor: pointer; transition: all 0.2s; }
        .color-btn:hover { transform: scale(1.15); border-color: rgba(0,0,0,0.2); }
        .color-btn.active { border-color: #333; box-shadow: 0 0 0 3px rgba(255,117,140,0.3); }

        .draggable-item { position: absolute; cursor: pointer; user-select: none; z-index: 25; }
        /* iOS safe-area and mobile app optimizations (overrides) */
        @layer utilities {
            .no-scrollbar::-webkit-scrollbar { display: none; }
            .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

            body {
                min-height: 100dvh;
                background-color: #fffafb;
                overscroll-behavior-y: none;
                padding-top: env(safe-area-inset-top);
                padding-bottom: env(safe-area-inset-bottom);
                padding-left: env(safe-area-inset-left);
                padding-right: env(safe-area-inset-right);
            }

            #main-container {
                height: 100dvh;
                height: calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
            }

            .cursor-grab { cursor: grab; -webkit-user-select: none; user-select: none; -webkit-touch-callout: none; }

            /* å¼·åˆ¶å‘Šè¨´ iOSï¼šé€™äº›æ±è¥¿æ˜¯è¦è¢«æ‹–æ‹‰çš„ï¼Œä¸è¦æ²å‹•é é¢ */
            [draggable="true"] {
                touch-action: none !important;
                -webkit-user-drag: element;
            }

            #inv-grid div {
                touch-action: none !important;
            }
            
            /* ensure fixed nav avoids notch */
            nav.safe-top { top: calc(env(safe-area-inset-top) + 1rem) !important; }
            }
    </style>
        <script>
            // è¨»å†Š Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js');
            }
        </script>
</head>
<body id="main-container">

    <nav class="fixed top-4 left-1/2 -translate-x-1/2 z-[100] glass px-6 py-3 rounded-full shadow-2xl flex space-x-6 text-[10px] font-bold uppercase tracking-widest safe-top">
        <a href="#hero" class="hover:text-pink-500 transition">Hero</a>
        <a href="#history" class="hover:text-pink-500 transition">History</a>
        <a href="#anatomy" class="hover:text-pink-500 transition">Science</a>
        <a href="#calendar" class="hover:text-pink-500 transition">Season</a>
        <a href="#gallery" class="hover:text-pink-500 transition">Catalog</a>
        <a href="#garden" class="hover:text-pink-500 transition">Garden</a>
        <a href="#salon" class="hover:text-pink-500 transition">Salon</a>
    </nav>

    <section id="hero" class="h-screen flex flex-col justify-center items-center text-center">
        <div id="hero-tulip" class="mb-6"></div>
        <h1 class="text-6xl md:text-7xl font-bold cute-font mb-3">é¬±é‡‘é¦™ä¹‹æ£®</h1>
        <p class="text-lg opacity-30 tracking-[0.6em] uppercase">The Digital Herbarium</p>
    </section>

    <section id="history" class="py-20 bg-white">
        <div class="max-w-5xl mx-auto px-6 grid md:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="text-3xl font-bold cute-font mb-6">æ­·å²é•·æ²³ä¸­çš„ç‘°å¯¶</h2>
                <div class="space-y-6 border-l-2 border-pink-100 pl-6">
                    <div>
                        <b class="text-[#ff758c] text-sm">11ä¸–ç´€ï¼šå¤©å±±æ·±è™•çš„èµ·æº</b>
                        <p class="text-xs text-gray-500 mt-1">æœ€æ—©èµ·æºæ–¼å¤©å±±å±±è„ˆã€‚é„‚åœ–æ›¼å¸åœ‹å°‡å…¶å¼•å…¥åº­åœ’ï¼Œè˜‡ä¸¹å°‡å…¶è¦–ç‚ºçœŸä¸»åœ¨äººé–“çš„åŒ–èº«ã€‚</p>
                    </div>
                    <div>
                        <b class="text-[#ff758c] text-sm">1593å¹´ï¼šè·¨è¶Šæ­æ´²å¤§é™¸</b>
                        <p class="text-xs text-gray-500 mt-1">æ¤ç‰©å­¸å®¶å…‹é­¯ä¿®æ–¯å°‡ç¬¬ä¸€é¡†çƒæ ¹å¸¶å…¥è·è˜­èŠé “å¤§å­¸ã€‚</p>
                    </div>
                    <div>
                        <b class="text-[#ff758c] text-sm">1637å¹´ï¼šé¬±é‡‘é¦™ç‹‚ç†±</b>
                        <p class="text-xs text-gray-500 mt-1">æ­·å²ä¸Šç¬¬ä¸€å€‹é‡‘èæ³¡æ²«ã€‚ä¸€é¡†çƒæ ¹çš„åƒ¹æ ¼è¶³ä»¥è²·ä¸‹è±ªå®…ã€‚</p>
                    </div>
                </div>
            </div>
            <div class="glass p-8 rounded-[40px] text-center">
                <div class="sway mb-4 opacity-40 text-4xl">ğŸŒ·</div>
                <p class="italic text-gray-400 text-sm">"åœ¨æ‰€æœ‰èŠ±å‰ä¸­ï¼Œé¬±é‡‘é¦™æœ€æ‡‚å¾—éœé»˜çš„å¥¢è¯ã€‚"</p>
            </div>
        </div>
    </section>

    <section id="anatomy" class="py-20 relative flex flex-col items-center">
        <h2 class="text-4xl font-bold cute-font mb-12">ç”Ÿç†æ©Ÿèƒ½è§£å¯†</h2>
        <div class="relative max-w-md w-full">
            <svg viewBox="0 0 400 600" id="anatomy-svg" class="w-full drop-shadow-2xl">
                <g class="cursor-pointer" onclick="showAna('petal')">
                    <path d="M200,200 C150,200 130,100 200,50 C270,100 250,200 200,200" fill="#ff758c"/>
                </g>
                <rect x="195" y="200" width="10" height="280" fill="var(--l)" rx="5" class="cursor-pointer" onclick="showAna('stem')"/>
                <g class="cursor-pointer" onclick="showAna('leaf')">
                    <path d="M200,400 Q130,400 110,250" stroke="var(--l)" stroke-width="15" fill="rgba(0,0,0,0)" stroke-linecap="round"/>
                    <path d="M200,450 Q280,450 310,320" stroke="var(--l)" stroke-width="15" fill="rgba(0,0,0,0)" stroke-linecap="round"/>
                </g>
                <path d="M200,480 C160,480 150,560 200,590 C250,560 240,480 200,480" fill="#d2b48c" class="cursor-pointer" onclick="showAna('bulb')"/>
            </svg>
            <div id="ana-petal" class="callout glass -top-16 -right-32">
                <h4 class="text-lg font-bold text-pink-500 mb-2">è¢«ç‰‡ (Tepals)</h4>
                <p class="leading-relaxed">é¬±é‡‘é¦™æ²’æœ‰èŠ±ç“£èˆ‡èŠ±è¼ä¹‹åˆ†ï¼Œå…­ç‰‡çµ±ç¨±ç‚ºè¢«ç‰‡ã€‚å…¶è‰²å½©ç”¨æ–¼å¸å¼•æ˜†èŸ²ã€‚</p>
            </div>
            <div id="ana-stem" class="callout glass top-1/4 -left-48">
                <h4 class="text-lg font-bold text-green-600 mb-2">èŠ±è– (Scape)</h4>
                <p class="leading-relaxed">å…·å‚™é¡¯è‘—çš„å‘å…‰æ€§ã€‚å³ä¾¿åˆ‡ä¸‹æ”¾å…¥èŠ±ç“¶ï¼ŒèŠ±è–ä»æœƒç¹¼çºŒç”Ÿé•·ã€‚</p>
            </div>
            <div id="ana-leaf" class="callout glass top-2/3 -right-48">
                <h4 class="text-lg font-bold text-emerald-700 mb-2">éºŸè‘‰ (Leaves)</h4>
                <p class="leading-relaxed">è¡¨é¢æœ‰è Ÿè³ªå±¤ï¼Œèƒ½é˜»æ“‹ç—…åŸèŒã€‚å‡¹æ§½è¨­è¨ˆèƒ½å¼•å°é›¨æ°´å›æ ¹éƒ¨ã€‚</p>
            </div>
            <div id="ana-bulb" class="callout glass bottom-0 -left-48">
                <h4 class="text-lg font-bold text-yellow-800 mb-2">é±—è– (Bulb)</h4>
                <p class="leading-relaxed">åœ°ä¸‹èƒ½é‡å·¥å» ã€‚æ¯é¡†çƒæ ¹å…§éƒ½å°å­˜äº†æ˜å¹´çš„å¾®ç¸®èŠ±æœµã€‚</p>
            </div>
        </div>
    </section>

    <section id="calendar" class="py-20 bg-gray-50/50">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold cute-font mb-12">æ­²æœˆå¾‹å‹•æ™‚è»¸</h2>
            <div class="glass rounded-[40px] p-12 flex flex-col items-center">
                <div id="season-drawing" class="mb-8 transform scale-125"></div>
                <div class="w-full max-w-xl px-6 mb-8">
                    <input type="range" id="timeline" min="0" max="100" step="1" value="33" oninput="updateTimeline(this.value)">
                    <div class="flex justify-between text-[9px] font-bold text-gray-400 uppercase mt-3 px-1">
                        <span>Jan</span><span>Mar</span><span>Apr</span><span>Jun</span><span>Oct</span><span>Dec</span>
                    </div>
                </div>
                <div class="text-center">
                    <h3 id="cal-title" class="text-4xl font-bold cute-font text-[#ff758c] mb-4">å››æœˆ</h3>
                    <p id="cal-desc" class="text-gray-500 max-w-md mx-auto leading-relaxed text-sm"></p>
                </div>
            </div>
        </div>
    </section>

    <section id="gallery" class="py-20">
        <div class="max-w-6xl mx-auto px-6">
            <h2 class="text-4xl font-bold cute-font text-center mb-12">15 å“ç³»åœ–é‘‘ç™¾ç§‘</h2>
            <div class="grid grid-cols-2 md:grid-cols-5 gap-6" id="variety-grid"></div>
        </div>
    </section>

    <section id="garden" class="py-20 bg-[#fff5f7]">
        <div class="max-w-5xl mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold cute-font mb-10">å¤§åœ°å·¥åŠ</h2>
            <div class="grid grid-cols-3 gap-6 mb-12">
                <button onclick="digAll()" class="big-action-btn glass p-6 rounded-[30px] flex flex-col items-center space-y-3">
                    <svg width="40" viewBox="0 0 40 40" stroke="var(--s)" fill="none" stroke-width="2">
                        <path d="M10,10 L30,30 M5,35 L15,25"/>
                    </svg>
                    <span class="font-bold text-xs">ç¿»åœŸæŒ–æ´</span>
                </button>
                <button onclick="plantAll()" class="big-action-btn glass p-6 rounded-[30px] flex flex-col items-center space-y-3">
                    <svg width="35" viewBox="0 0 40 40" fill="#d2b48c">
                        <circle cx="20" cy="20" r="15"/>
                    </svg>
                    <span class="font-bold text-xs">åŸ‹å…¥çƒæ ¹</span>
                </button>
                <button onclick="waterAll()" class="big-action-btn glass p-6 rounded-[30px] flex flex-col items-center space-y-3">
                    <svg width="40" viewBox="0 0 40 40" stroke="#3498db" fill="none" stroke-width="2">
                        <path d="M10,20 Q20,5 30,20 L30,35 L10,35 Z"/>
                    </svg>
                    <span class="font-bold text-xs">æ¾†æ°´ç”Ÿé•·</span>
                </button>
            </div>
            <div class="h-[350px] glass rounded-[60px] relative flex items-end justify-center space-x-6 pb-16">
                <div class="absolute bottom-0 w-full h-24 bg-[#5d4037]/10 rounded-b-[60px]"></div>
                <div class="plot-box"><div class="soil-base"></div><div id="slot-0"></div></div>
                <div class="plot-box"><div class="soil-base"></div><div id="slot-1"></div></div>
                <div class="plot-box"><div class="soil-base"></div><div id="slot-2"></div></div>
                <div class="plot-box"><div class="soil-base"></div><div id="slot-3"></div></div>
                <div class="plot-box"><div class="soil-base"></div><div id="slot-4"></div></div>
                <button id="hv-btn" onclick="hvAll()" class="hidden absolute top-1/2 -translate-y-1/2 bg-[#ff758c] text-white px-10 py-4 rounded-full font-bold shadow-2xl z-50 hover:scale-110 transition active:scale-95">ä¸€éµæ”¶å‰²</button>
            </div>
        </div>
    </section>

    <section id="salon" class="py-20">
        <div class="max-w-6xl mx-auto px-6 grid lg:grid-cols-4 gap-8">
            <div class="lg:col-span-1 glass p-6 rounded-[40px]">
                <h4 class="font-bold cute-font text-xl mb-4 text-center">æ¤ç‰©ç¹ªç•«å®¤</h4>
                <canvas id="painter" width="200" height="200" class="w-full mb-4 shadow-inner border border-gray-100"></canvas>
                <!-- æ“´å……å¾Œçš„é¡è‰²é¢æ¿ï¼š15è‰² -->
                <div class="grid grid-cols-5 gap-2 mb-4">
                    <button onclick="setC('#4a7c59', this)" class="color-btn active" style="background: #4a7c59"></button>
                    <button onclick="setC('#2d5a27', this)" class="color-btn" style="background: #2d5a27"></button>
                    <button onclick="setC('#8bc34a', this)" class="color-btn" style="background: #8bc34a"></button>
                    <button onclick="setC('#ff758c', this)" class="color-btn" style="background: #ff758c"></button>
                    <button onclick="setC('#e91e63', this)" class="color-btn" style="background: #e91e63"></button>
                    
                    <button onclick="setC('#9c27b0', this)" class="color-btn" style="background: #9c27b0"></button>
                    <button onclick="setC('#673ab7', this)" class="color-btn" style="background: #673ab7"></button>
                    <button onclick="setC('#2196f3', this)" class="color-btn" style="background: #2196f3"></button>
                    <button onclick="setC('#03a9f4', this)" class="color-btn" style="background: #03a9f4"></button>
                    <button onclick="setC('#ffd700', this)" class="color-btn" style="background: #ffd700"></button>

                    <button onclick="setC('#ff9800', this)" class="color-btn" style="background: #ff9800"></button>
                    <button onclick="setC('#ff5722', this)" class="color-btn" style="background: #ff5722"></button>
                    <button onclick="setC('#795548', this)" class="color-btn" style="background: #795548"></button>
                    <button onclick="setC('#607d8b', this)" class="color-btn" style="background: #607d8b"></button>
                    <button onclick="setC('#000000', this)" class="color-btn" style="background: #000000"></button>
                </div>
                <button onclick="clrC()" class="w-full py-2 mb-2 glass rounded-lg text-xs font-bold hover:bg-white transition">æ¸…ç©ºç•«å¸ƒ</button>
                <button onclick="svD()" class="w-full py-3 bg-[#ff758c] text-white rounded-xl font-bold hover:bg-[#ff5a7a] transition">å„²å­˜åˆ°èŠ±ç±ƒ</button>
            </div>
            
            <!-- æ’èŠ±æ²™é¾å€åŸŸï¼šä¿®æ­£æŒ‰éˆ•å±¤ç´š -->
            <div class="lg:col-span-2 h-[550px] glass rounded-[60px] relative shadow-2xl flex justify-center items-end" ondragover="allow(event)" ondrop="plS(event)" id="salon-box">
                <!-- s-canvas ä½œç‚ºæ’èŠ±æ”¾ç½®å±¤ï¼›åŒæ™‚åŒ…å«å¯ç¹ªç•«çš„ salon-canvas -->
                <div id="s-canvas" class="absolute inset-0 z-10 pointer-events-auto">
                    <canvas id="salon-canvas" class="absolute inset-0 w-full h-full" style="touch-action: none;"></canvas>
                </div>
                
                <svg width="120" height="200" viewBox="0 0 100 130" class="opacity-80 mb-16 pointer-events-none z-20" style="filter: drop-shadow(0 10px 20px rgba(0,188,212,0.3));">
                    <defs>
                        <linearGradient id="waterBlueGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#e0f7fa" />
                            <stop offset="100%" stop-color="#81d4fa" />
                        </linearGradient>
                    </defs>
                    <path d="M40,35 Q35,45 35,60 Q35,85 38,100 Q40,115 50,120 Q60,115 62,100 Q65,85 65,60 Q65,45 60,35 Z" 
                          fill="url(#waterBlueGrad)" 
                          stroke="#4fc3f7" 
                          stroke-width="1"/>
                    <ellipse cx="50" cy="35" rx="10" ry="2.5" fill="#b3e5fc" opacity="0.8"/>
                </svg>

                <!-- ä¿®æ­£ï¼šæé«˜æŒ‰éˆ•å®¹å™¨çš„ z-index åˆ° z-30ï¼Œç¢ºä¿åœ¨ s-canvas (z-10) ä¹‹ä¸Šå¯è¢«é»æ“Š -->
                <div class="absolute bottom-6 w-full flex justify-between px-10 z-30" data-html2canvas-ignore>
                    <button onclick="saveArrangement()" class="bg-[#ff758c] text-white px-4 py-2 rounded-full text-xs font-bold hover:bg-[#ff5a7a] transition shadow-lg">ä¸‹è¼‰ PNG ä½œå“</button>
                    <button onclick="clearSalon()" class="text-[10px] font-bold opacity-30 hover:opacity-60 transition uppercase">Reset Vase</button>
                </div>
            </div>

            <div class="lg:col-span-1 glass p-6 rounded-[40px] flex flex-col h-[550px]">
                <h4 class="font-bold cute-font text-xl mb-6 flex justify-between">æˆ‘çš„èŠ±ç±ƒ <span id="inv-c" class="text-pink-400">0</span></h4>
                <div id="inv-grid" class="grid grid-cols-2 gap-3 overflow-y-auto custom-scroll flex-grow pr-2"></div>
                <p class="text-[9px] text-gray-400 mt-4 text-center">æ‹–æ‹½ç‰©å“åˆ°ä¸­é–“çš„èŠ±ç“¶å¸ƒç½®ï¼Œé»æ“Šæ’ä¸Šçš„èŠ±å¯å–æ¶ˆ</p>
            </div>
        </div>
    </section>

    <div id="modal" class="fixed inset-0 bg-black/70 backdrop-blur-lg z-[500] p-6" onclick="closeM()">
        <div class="glass max-w-5xl w-full max-h-[90vh] overflow-y-auto custom-scroll p-10 rounded-[60px] relative" onclick="event.stopPropagation()">
            <button onclick="closeM()" class="absolute top-8 right-8 text-3xl opacity-50 hover:opacity-100 transition">&times;</button>
            <div id="m-content" class="flex flex-col items-center"></div>
        </div>
    </div>

    <script>
        // å®Œæ•´çš„ 15 å“ç³»ç™¾ç§‘è³‡æ–™åº«
        const VARS = [
            { id: 1, name: "å–®ç“£æ—©èŠ±å‹", color: "#ff758c", svg: "classic", origin: "ä¸­äºå¤©å±±å±±è„ˆ", bloomTime: "3æœˆä¸Šæ—¬ - 3æœˆä¸‹æ—¬", height: "25-35cm", history: "æœ€æ—©æ–¼16ä¸–ç´€å¼•å…¥æ­æ´²çš„ç´”ç²¹å‹æ…‹ï¼Œä¿ç•™äº†é‡ç”Ÿé¬±é‡‘é¦™çš„åŸå§‹åŸºå› ã€‚é€™å€‹å“ç³»æ˜¯æ‰€æœ‰ç¾ä»£é¬±é‡‘é¦™çš„ç¥–å…ˆï¼Œå…¶ç°¡æ½”çš„å…­ç“£çµæ§‹è¢«è¦–ç‚ºå®Œç¾æ¯”ä¾‹çš„å…¸ç¯„ã€‚åœ¨æ–‡è—å¾©èˆˆæ™‚æœŸçš„æ¤ç‰©ç•«ä¸­é »ç¹å‡ºç¾ã€‚", feature: "èŠ±ç“£åšå¯¦ä¸”å…·è Ÿè³ªå±¤ï¼Œèƒ½æœ‰æ•ˆæŠµç¦¦æ—©æ˜¥çš„éœœå‡èˆ‡å¤šè®Šæ°£å€™ã€‚å–®å±¤èŠ±ç“£ä½¿å…¶åœ¨æ¸…æ™¨é™½å…‰ä¸‹å‘ˆç¾åŠé€æ˜çš„å¤¢å¹»è³ªæ„Ÿã€‚èŠ±æœŸé›–çŸ­ä½†é–‹èŠ±æ•´é½Šï¼Œå¸¸ç”¨æ–¼å¤§é¢ç©çš„æ™¯è§€ä½ˆç½®ã€‚", care: "éœ€å……è¶³æ—¥ç…§ï¼Œæ’æ°´è‰¯å¥½çš„ç ‚è³ªå£¤åœŸæœ€ä½³ã€‚è€å¯’æ€§æ¥µå¼·ï¼Œé©åˆå¯’å¸¶ç¨®æ¤ã€‚", lang: "ç´”æ½”èˆ‡å¸Œæœ›", use: "é©åˆåº­åœ’å‰æ™¯ã€ç›†æ ½ã€åˆ‡èŠ±" },
            { id: 2, name: "é‡ç“£æ—©èŠ±å‹", color: "#ffb3c1", svg: "double", origin: "è·è˜­è‚²ç¨®", bloomTime: "3æœˆä¸­æ—¬ - 4æœˆä¸Šæ—¬", height: "30-40cm", history: "17ä¸–ç´€è·è˜­è‚²ç¨®å®¶è¿½æ±‚å¦‚ç‰¡ä¸¹èˆ¬çš„è¯éº—æ„Ÿè€ŒåŸ¹è‚²ã€‚æœ€åˆè¢«ç¨±ç‚ºã€Œé›™é‡ç¾äººã€ï¼Œåœ¨é»ƒé‡‘æ™‚ä»£çš„éœç‰©ç•«ä¸­å¸¸èˆ‡æ°´æœã€æ˜†èŸ²ä¸€åŒæç¹ªï¼Œè±¡å¾µè²¡å¯Œèˆ‡è±é¥’ã€‚", feature: "æ“æœ‰å¤šå±¤æ¬¡èŠ±ç“£ï¼Œå®Œå…¨ç››é–‹æ™‚ç›´å¾‘å¯é”10cmï¼Œå¦‚åŒè“¬é¬†çš„è“®èŠ±ã€‚èŠ±ç“£æ•¸é‡å¯é”20-30ç‰‡ï¼Œæ¯ç‰‡éƒ½æœ‰ç´°å¾®çš„è‰²éšè®ŠåŒ–ã€‚èŠ±æœµé‡é‡è¼ƒå¤§ï¼Œå»ºè­°ç¨®æ¤åœ¨é¿é¢¨è™•ä»¥é˜²æŠ˜æã€‚", care: "éœ€è‚¥æ²ƒåœŸå£¤ï¼Œé–‹èŠ±æœŸéœ€é©åº¦æ”¯æ’ã€‚èŠ±å¾Œéœ€åŠæ™‚å‰ªé™¤ä»¥ä¿å­˜çƒæ ¹èƒ½é‡ã€‚", lang: "æ°¸æ†èˆ‡å„ªé›…", use: "é«˜ç´šåˆ‡èŠ±ã€å©šç¦®ä½ˆç½®ã€æ”å½±ç´ æ" },
            { id: 3, name: "å‡±æ—‹å‹", color: "#9c27b0", svg: "classic", origin: "20ä¸–ç´€é›œäº¤é¸è‚²", bloomTime: "4æœˆä¸­æ—¬", height: "40-50cm", history: "1923å¹´é¦–æ¬¡è‚²æˆï¼Œæ˜¯å–®ç“£æ—©èŠ±å‹èˆ‡é”çˆ¾æ–‡å‹çš„é›œäº¤å¾Œä»£ã€‚ç¾ä»Šåˆ‡èŠ±å¸‚å ´çš„çµ•å°ä¸»åŠ›ï¼Œä½”å…¨çƒé¬±é‡‘é¦™ç”¢é‡çš„60%ä»¥ä¸Šã€‚", feature: "è–å¹¹æ¥µå¼·éŸŒï¼ŒèŠ±å‹åœ¨ç“¶æ’æ™‚ä¸æ˜“æ•£é–‹ï¼Œç“¶æ’å£½å‘½å¯é”7-10å¤©ã€‚èŠ±è‰²ç¯„åœæœ€å»£ï¼Œå¾ç´”ç™½åˆ°è¿‘é»‘è‰²æ‡‰æœ‰ç›¡æœ‰ã€‚èŠ±ç“£é‚Šç·£åœ“æ½¤ï¼Œç››é–‹å¾Œå‘ˆç¾å®Œç¾çš„æ¯å‹ã€‚", care: "é©æ‡‰æ€§å¼·ï¼Œå°åœŸå£¤è¦æ±‚ä¸åš´ã€‚é©åˆå•†æ¥­åŒ–å¤§è¦æ¨¡ç¨®æ¤ã€‚", lang: "æˆåŠŸèˆ‡è‡ªä¿¡", use: "å•†æ¥­åˆ‡èŠ±ã€èŠ±æŸä¸»æã€ç¯€æ…¶ä½ˆç½®" },
            { id: 4, name: "é”çˆ¾æ–‡é›œäº¤å‹", color: "#f44336", svg: "classic", origin: "è·è˜­", bloomTime: "4æœˆä¸‹æ—¬ - 5æœˆä¸Šæ—¬", height: "55-65cm", history: "ä»¥é€²åŒ–è«–ä¹‹çˆ¶é”çˆ¾æ–‡å‘½åï¼Œè±¡å¾µå…¶ã€Œé©è€…ç”Ÿå­˜ã€çš„å¼·å¥ç‰¹æ€§ã€‚1960å¹´ä»£å¤§é‡åŸ¹è‚²ï¼Œç”¨ä»¥å–ä»£å®¹æ˜“æ„ŸæŸ“ç—…æ¯’çš„åŸå§‹é”çˆ¾æ–‡å‹ã€‚", feature: "æ ªé«˜å¯é”60cmä»¥ä¸Šï¼ŒèŠ±é ­å·¨å¤§ï¼Œè–å¹¹ç²—å£¯å¦‚ç­†æ¡¿ã€‚è€é¢¨é›¨èƒ½åŠ›æ¥µä½³ï¼Œå³ä½¿åœ¨æš´é›¨å¾Œä»èƒ½æŒºç«‹ã€‚èŠ±è‰²é£½å’Œåº¦é«˜ï¼Œç´…è‰²å“ç¨®å°¤å…¶é®®è±”å¥ªç›®ã€‚", care: "éœ€æ·±æ¤ï¼ˆ15-20cmï¼‰ï¼Œç©ºé–“éœ€æ±‚è¼ƒå¤§ã€‚é©åˆå¤§å‹èŠ±å£‡èˆ‡å…¬åœ’ç¶ åœ°ã€‚", lang: "ç†±çƒˆçš„æ„›", use: "å¤§å‹æ™¯è§€ã€å…¬å…±ç©ºé–“ã€å¾Œæ™¯æ¤æ ½" },
            { id: 5, name: "å–®ç“£æ™šèŠ±å‹", color: "#e91e63", svg: "classic", origin: "æ³•åœ‹å—éƒ¨", bloomTime: "5æœˆä¸Šæ—¬ - 5æœˆä¸­æ—¬", height: "45-55cm", history: "æ˜¥æœ«æœ€å¾Œç¶»æ”¾çš„å„ªé›…å¥é»ï¼Œå¸¸è¢«ç¨±ç‚ºã€Œæ˜¥å¤©çš„å‘Šåˆ¥ä¹‹èŠ±ã€ã€‚åœ¨å°è±¡æ´¾ç•«å®¶è«å…§çš„èŠ±åœ’ä¸­å¤§é‡ç¨®æ¤ï¼Œå…¶æŸ”å’Œçš„è‰²èª¿å®Œç¾èå…¥æš®æ˜¥æ™¯è‡´ã€‚", feature: "èŠ±ç“£é‚Šç·£åœ“æ½¤ï¼Œè³ªåœ°å¦‚çµ²ç¶¢èˆ¬ç´°è†©ã€‚èŠ±æœŸè¼ƒé•·ï¼ˆ2-3é€±ï¼‰ï¼Œä¸”éš¨è‘—æ™‚é–“æ¨ç§»ï¼ŒèŠ±è‰²æœƒç”¢ç”Ÿå¾®å¦™çš„æ¼¸è®Šæ•ˆæœã€‚", care: "å–œæº«æš–æ°£å€™ï¼Œé–‹èŠ±æœŸéœ€å……è¶³æ°´åˆ†ã€‚é©åˆèˆ‡å…¶ä»–æ™šæ˜¥èŠ±å‰æ··æ¤ã€‚", lang: "å¹³éœçš„å¹¸ç¦", use: "è‡ªç„¶é¢¨åº­åœ’ã€æ··åˆèŠ±å¢ƒã€åˆ‡èŠ±" },
            { id: 6, name: "ç™¾åˆå‹", color: "#ffd700", svg: "lily", origin: "åœŸè€³å…¶å®‰ç´æ‰˜åˆ©äºé«˜åŸ", bloomTime: "4æœˆä¸­æ—¬ - 5æœˆä¸Šæ—¬", height: "45-60cm", history: "æ·±å—é„‚åœ–æ›¼å¸åœ‹å®®å»·å–œæ„›ã€‚å…¶å„ªé›…çš„å°–ç“£é€ å‹å¸¸å‡ºç¾åœ¨ä¼ŠèŒ²å°¼å…‹é™¶ç“·èˆ‡æ³¢æ–¯åœ°æ¯¯çš„åœ–æ¡ˆä¸­ã€‚", feature: "èŠ±ç“£å°–ç«¯å¤–ç¿»ï¼Œå¦‚ç™¾åˆèˆ¬çº–ç´°å„ªç¾ã€‚å®Œå…¨é–‹æ”¾æ™‚å‘ˆæ˜Ÿå½¢ï¼Œæ¥µå…·ç•°åœ‹æƒ…èª¿ã€‚èŠ±è–æŸ”éŸŒï¼Œéš¨é¢¨æ–æ›³æ™‚å§¿æ…‹æ›¼å¦™ã€‚", care: "éœ€è‰¯å¥½æ’æ°´ï¼Œå¿Œç©æ°´ã€‚é©åˆå²©çŸ³èŠ±åœ’èˆ‡åœ°ä¸­æµ·é¢¨æ ¼åº­åœ’ã€‚", lang: "é«˜è²´èˆ‡é©•å‚²", use: "ç‰¹è‰²åˆ‡èŠ±ã€è—è¡“æ”å½±ã€å±•è¦½ç”¨èŠ±" },
            { id: 7, name: "æµè˜‡å‹", color: "#ff4081", svg: "fringed", origin: "çªè®Šé¸è‚²", bloomTime: "4æœˆä¸‹æ—¬", height: "40-50cm", history: "1930å¹´ä»£ç”±è·è˜­è‚²ç¨®å®¶å¾è‡ªç„¶çªè®Šä¸­é¸è‚²è€Œæˆã€‚èŠ±ç“£é‚Šç·£çš„ç´°ç¢æµè˜‡æ˜¯åŸºå› çªè®Šé€ æˆçš„ç´°èƒéåº¦å¢ç”Ÿç¾è±¡ã€‚", feature: "èŠ±ç“£é‚Šç·£å…·ç´°å¯†çš„é‡ç‹€æµè˜‡ï¼Œå¦‚åŒè•¾çµ²èŠ±é‚Šã€‚åœ¨é™½å…‰ä¸‹æœƒç”¢ç”Ÿç¨ç‰¹çš„å…‰å½±æ•ˆæœã€‚è§¸æ„ŸæŸ”è»Ÿï¼Œè¦–è¦ºèˆ‡è§¸è¦ºéƒ½æ¥µå…·æˆ²åŠ‡æ•ˆæœã€‚", care: "éœ€é¿å…å¼·é¢¨ï¼Œæµè˜‡æ˜“å—æã€‚é©åˆç›†æ ½è¿‘è·é›¢è§€è³ã€‚", lang: "ç´°è†©çš„å¿ƒ", use: "ç²¾å“åˆ‡èŠ±ã€å©šç¦®æ§èŠ±ã€è—è¡“å‰µä½œ" },
            { id: 8, name: "ç¶ èŠ±å‹", color: "#8bc34a", svg: "classic", origin: "ç¨€æœ‰è‡ªç„¶è®Šç¨®", bloomTime: "4æœˆä¸­æ—¬ - 5æœˆä¸Šæ—¬", height: "40-55cm", history: "èŠ±ç“£ä¸­å¸¶æœ‰æ°¸æ†çš„ç¶ è‰²æ¢ç´‹æˆ–æ–‘å¡Šï¼Œé€™æ˜¯è‘‰ç¶ é«”åœ¨èŠ±ç“£ç´°èƒä¸­æŒçºŒæ´»èºçš„ç½•è¦‹ç¾è±¡ã€‚åœ¨ç¶­å¤šåˆ©äºæ™‚ä»£è¢«è¦–ç‚ºæ¤ç‰©å­¸å¥‡è¹Ÿã€‚", feature: "èŠ±ç“£ä¿æœ‰è‘‰ç¶ ç´ ï¼Œå‘ˆç¾ç¨ç‰¹çš„ç¶ è‰²èª¿ã€‚èŠ±æœŸæ¯”ä¸€èˆ¬å“ç¨®é•·ï¼Œå› ç‚ºç¶ è‰²çµ„ç¹”èƒ½æŒçºŒé€²è¡Œå…‰åˆä½œç”¨ã€‚", care: "éœ€åŠæ—¥ç…§ï¼Œéå¼·å…‰ç…§æœƒä½¿ç¶ è‰²è¤ªå»ã€‚é©åˆæ—ä¸‹æˆ–å»ºç¯‰ç‰©åŒ—å´ç¨®æ¤ã€‚", lang: "æ°¸æ†ç”Ÿå‘½åŠ›", use: "è‡ªç„¶é¢¨èŠ±è—ã€ç¶ è‰²ä¸»é¡Œå©šç¦®ã€æ¤ç‰©æ¨™æœ¬" },
            { id: 9, name: "æ—å¸ƒè˜­å‹", color: "#673ab7", svg: "classic", origin: "17ä¸–ç´€è·è˜­", bloomTime: "4æœˆä¸­æ—¬", height: "40-60cm", history: "ä»¥è·è˜­ç•«å®¶æ—å¸ƒè˜­å‘½åã€‚åŸæœ¬çš„æ¢ç´‹æ˜¯ç”±ç—…æ¯’å¼•èµ·ï¼Œç¾ä»£å“ç¨®å‰‡æ˜¯é€šéåŸºå› æŠ€è¡“æ¨¡æ“¬è©²æ•ˆæœåŸ¹è‚²è€Œæˆï¼Œå®Œå…¨å¥åº·ã€‚", feature: "èŠ±ç“£ä¸Šæœ‰ä¸è¦å‰‡çš„ç«ç„°ç‹€ã€ç¾½æ¯›ç‹€æˆ–æ¢ç´‹ç‹€åœ–æ¡ˆï¼Œæ¯æœµéƒ½æ˜¯ç¨ä¸€ç„¡äºŒçš„è—è¡“å“ã€‚è‰²å½©å°æ¯”å¼·çƒˆã€‚", care: "ç¾ä»£å“ç¨®ä¸å¸¶ç—…æ¯’ï¼Œå¯èˆ‡å…¶ä»–é¬±é‡‘é¦™æ··æ¤ã€‚éœ€è‚¥æ²ƒåœŸå£¤ä»¥ç¶­æŒé®®è±”è‰²å½©ã€‚", lang: "è¯éº—å¤¢æƒ³", use: "è—è¡“æ”¶è—ã€é«˜ç´šèŠ±è—ã€æ”å½±ç´ æ" },
            { id: 10, name: "é¸šéµ¡å‹", color: "#ff9800", svg: "parrot", origin: "æ³•åœ‹", bloomTime: "4æœˆä¸‹æ—¬ - 5æœˆä¸Šæ—¬", height: "40-55cm", history: "1665å¹´é¦–æ¬¡è¨˜éŒ„æ–¼æ³•åœ‹ï¼Œå› èŠ±ç“£æ‰­æ›²å¦‚é¸šéµ¡ç¾½æ¯›è€Œå¾—åã€‚è·¯æ˜“åå››çš„å‡¡çˆ¾è³½å®®èŠ±åœ’ä¸­æ›¾å°ˆè¨­å±•ç¤ºå€ã€‚", feature: "èŠ±ç“£é‚Šç·£æ·±è£‚ã€æ‰­æ›²ï¼Œæ˜¯æ‰€æœ‰é¬±é‡‘é¦™ä¸­èŠ±å¾‘æœ€å¤§çš„ã€‚æ¥µå…·é›•å¡‘æ„Ÿèˆ‡æˆ²åŠ‡å¼µåŠ›ã€‚èŠ±æœµæ²‰é‡ï¼Œè–å¹¹éœ€æ”¯æ’ã€‚", care: "éœ€é¿é¢¨è™•ç¨®æ¤ï¼ŒèŠ±æœµéé‡æ˜“æŠ˜ã€‚é©åˆå¤§å‹å®¹å™¨æˆ–é ç‰†èŠ±å£‡ã€‚", lang: "ç‹‚é‡ä¹‹æ„›", use: "å±•è¦½ç”¨èŠ±ã€è—è¡“è£ç½®ã€é«˜ç«¯èŠ±è—" },
            { id: 11, name: "é‡ç“£æ™šèŠ±å‹", color: "#d81b60", svg: "double", origin: "æ­æ´²", bloomTime: "5æœˆä¸Šæ—¬ - 5æœˆä¸‹æ—¬", height: "40-50cm", history: "åˆç¨±ã€Œç‰¡ä¸¹é¬±é‡‘é¦™ã€ã€‚åœ¨è‹±åœ‹ç¶­å¤šåˆ©äºæ™‚ä»£çš„èŠåœ’ä¸­æ¥µå—æ­¡è¿ï¼Œå¸¸èˆ‡ç«ç‘°ã€èŠè—¥æ­é…ç¨®æ¤ã€‚", feature: "èŠ±çƒæ²‰é‡ç¢©å¤§ï¼Œå±¤æ¬¡æ¥µè±å¯Œï¼ˆ30-40ç‰‡èŠ±ç“£ï¼‰ï¼Œå®Œå…¨ç››é–‹æ™‚å¦‚åŒå¾®ç¸®çš„ç‰¡ä¸¹ã€‚èŠ±æœŸé•·é”3é€±ï¼Œè§€è³æœŸæ¥µé•·ã€‚", care: "éœ€è‚¥æ²ƒæ·±åšåœŸå£¤ï¼Œé–‹èŠ±æœŸéœ€æ”¯æ’èˆ‡é®è”­ï¼ˆé¿å…èŠ±ç“£æ›¬å‚·ï¼‰ã€‚", lang: "åœ“æ»¿å¹¸ç¦", use: "å©šç¦®èŠ±è—ã€æ¯è¦ªç¯€èŠ±æŸã€è±ªè¯ä½ˆç½®" },
            { id: 12, name: "è€ƒå¤«æ›¼å‹", color: "#ffeb3b", svg: "lily", origin: "ä¸­äºåœŸåº«æ›¼", bloomTime: "3æœˆä¸Šæ—¬", height: "15-25cm", history: "ä»¥ä¿„åœ‹æ¤ç‰©å­¸å®¶è€ƒå¤«æ›¼å‘½åã€‚é€™æ˜¯æœ€æ—©é–‹èŠ±çš„å“ç³»ï¼Œåœ¨é›ªé‚„æœªå®Œå…¨èåŒ–æ™‚å°±èƒ½ç¶»æ”¾ã€‚", feature: "çŸ®ç”Ÿå“ç¨®ã€‚é™½å…‰ä¸‹èŠ±ç“£å®Œå…¨å±•é–‹å‘ˆå…­è§’æ˜Ÿå½¢ã€‚è‘‰ç‰‡å…·ç´«è‰²æˆ–ç°ç¶ è‰²æ–‘é»ï¼Œè§€è³åƒ¹å€¼é«˜ã€‚è€å¯’æ€§æ¥µå¼·ã€‚", care: "é©åˆå‰æ™¯ç¨®æ¤ï¼Œéœ€å……è¶³æ—¥ç…§ã€‚çƒæ ¹å°å·§ï¼Œå¯å¯†æ¤å½¢æˆèŠ±æ¯¯æ•ˆæœã€‚", lang: "æº«æš–è¿æ¥", use: "å²©çŸ³èŠ±åœ’ã€ç›†æ ½ã€é‚Šç·£ç¨®æ¤" },
            { id: 13, name: "ä½›æ–¯ç‰¹å‹", color: "#ff5722", svg: "classic", origin: "ä¸­äºè’æ¼ åœ°å¸¶", bloomTime: "3æœˆä¸­æ—¬ - 4æœˆä¸Šæ—¬", height: "30-45cm", history: "ä»¥è‹±åœ‹åœ’è—å®¶ä½›æ–¯ç‰¹çˆµå£«å‘½åã€‚é€™æ˜¯å°‘æ•¸èƒ½é©æ‡‰ä¹¾æ—±æ°£å€™çš„é¬±é‡‘é¦™ï¼Œåœ¨åŸç”Ÿåœ°å¯æ–¼ç¤«çŸ³è’æ¼ ä¸­ç”Ÿé•·ã€‚", feature: "èŠ±é ­å·¨å¤§ï¼ˆç›´å¾‘å¯é”12cmï¼‰ï¼Œè‰²å½©æ¥µé®®è±”ã€‚è‘‰ç‰‡å¯¬å¤§ï¼Œè¡¨é¢æœ‰è Ÿè³ªå±¤ã€‚è€æ—±åŠ›ç‚ºé¬±é‡‘é¦™ä¸­ä¹‹å† ã€‚", care: "éœ€å…¨æ—¥ç…§èˆ‡æ’æ°´æ¥µä½³çš„ç ‚è³ªåœŸã€‚é©åˆåœ°ä¸­æµ·æ°£å€™å€èˆ‡ä¹¾ç‡¥èŠ±åœ’ã€‚", lang: "èª æ‘¯é‚€è«‹", use: "æ—±ç”ŸèŠ±åœ’ã€ç¤«çŸ³æ™¯è§€ã€åŸç”Ÿæ¤ç‰©å€" },
            { id: 14, name: "æ ¼é‡Œå‰å‹", color: "#b71c1c", svg: "classic", origin: "åœŸåº«æ›¼èˆ‡çƒèŒ²åˆ¥å…‹", bloomTime: "3æœˆä¸‹æ—¬ - 4æœˆä¸­æ—¬", height: "20-30cm", history: "ä»¥ä¿„åœ‹å°‡è»æ ¼é‡Œå‰å‘½åã€‚è‘‰ç‰‡ä¸Šçš„ç´«è‰²æ³¢æµªç´‹æ˜¯å…¶æœ€å¤§ç‰¹å¾µï¼Œæ˜¯é©æ‡‰é«˜åŸå¼·ç´«å¤–ç·šçš„ä¿è­·æ©Ÿåˆ¶ã€‚", feature: "è‘‰ç‰‡å…·ç´«è‰²ã€è¤è‰²æ¢ç´‹ï¼Œä¸é–‹èŠ±ä¹Ÿæ¥µå…·è§€è³åƒ¹å€¼ã€‚èŠ±æœµå·¨å¤§ï¼ˆç›¸å°æ¤æ ªé«˜åº¦ï¼‰ï¼Œå‘ˆç¢—ç‹€ã€‚", care: "éœ€å†·æ¶¼æ°£å€™èˆ‡å……è¶³æ—¥ç…§ã€‚é©åˆå¯’å¸¶èˆ‡é«˜å±±åœ°å€ç¨®æ¤ã€‚", lang: "ç¨ç‰¹é­…åŠ›", use: "ç‰¹è‰²åº­åœ’ã€è‘‰è‰²è§€è³ã€æ¤ç‰©æ”¶è—" },
            { id: 15, name: "åŸç¨®é¬±é‡‘é¦™", color: "#ec407a", svg: "classic", origin: "ä¸­äºã€åœ°ä¸­æµ·", bloomTime: "3æœˆ - 5æœˆ", height: "10-40cm", history: "æ³›æŒ‡æ‰€æœ‰æœªç¶“äººå·¥é›œäº¤çš„é‡ç”Ÿé¬±é‡‘é¦™ã€‚æ˜¯æ‰€æœ‰åœ’è—å“ç¨®çš„ç¥–å…ˆï¼Œä¿ç•™äº†æœ€åŸå§‹çš„åŸºå› å¤šæ¨£æ€§ã€‚", feature: "æ¤æ ªå°å·§ï¼ŒæŠ—ç—…æ€§èˆ‡æŠ—é€†æ€§æœ€å¼·ã€‚èƒ½é€£å¹´å›èŠ±è€Œä¸éœ€æŒ–èµ·ã€‚è‰²å½©å¤šç‚ºåŸºæœ¬è‰²ï¼Œç°¡æ½”æœ‰åŠ›ã€‚", care: "ä¾åŸç”Ÿåœ°ç’°å¢ƒç¨®æ¤ï¼ˆä¹¾ç‡¥å‹éœ€æ’æ°´ï¼Œé«˜å±±å‹éœ€å†·æ¶¼ï¼‰ã€‚é©åˆè‡ªç„¶åŒ–ç¨®æ¤ã€‚", lang: "åˆå¿ƒä¸è®Š", use: "è‡ªç„¶é¢¨åº­åœ’ã€ç”Ÿæ…‹å¾©è‚²ã€åŸºå› ä¿å­˜" }
        ];

        let inventory = JSON.parse(localStorage.getItem('tulip_v7_inv')) || [];
        let pStates = [0,0,0,0,0], pFlrs = [null,null,null,null,null];
        let currentColor = '#4a7c59';

        // SVG ç¹ªè£½å·¥å…·
        function drawT(type, color, w, h) {
            let p = `M25,40 C5,40 5,10 25,0 C45,10 45,40 25,40`;
            if(type==='lily') p = `M25,40 C5,40 -10,10 25,0 C60,10 45,40 25,40`;
            if(type==='double') p = `M25,40 C5,40 0,10 25,0 C50,10 45,40 25,40 M22,12 C12,18 12,28 25,32`;
            if(type==='parrot') p = `M25,40 C5,45 -5,15 25,0 C55,15 45,45 25,40 M15,25 Q20,30 25,25`;
            if(type==='fringed') p = `M25,40 C5,40 5,10 25,0 C45,10 45,40 25,40 M10,35 L15,38 L10,40 M20,40 L22,43 L20,45 M30,40 L32,43 L30,45 M40,35 L35,38 L40,40`;
            return `<svg viewBox="0 0 50 150" width="${w}" height="${h}" class="sway mx-auto"><path d="M25,150 L25,40" stroke="var(--l)" stroke-width="4"/><path d="${p}" fill="${color}"/></svg>`;
        }
        

        function drawL(idx) {
            let c = { d: "#5d4037", b: "#d2b48c", l: "#4a7c59", f: "#ff758c" };
            let s = "";
            if(idx==0||idx==5) s = `<circle cx="50" cy="100" r="18" fill="${c.b}"/><path d="M10,80 Q50,70 90,80" stroke="${c.d}" stroke-width="5" fill="none"/>`;
            else if(idx==1||idx==4) s = `<path d="M50,85 L50,50 Q40,40 50,20 Q60,40 50,50" fill="${c.l}"/><path d="M10,80 Q50,70 90,80" stroke="${c.d}" stroke-width="5" fill="none"/>`;
            else if(idx==2) s = `<path d="M50,100 L50,40" stroke="${c.l}" stroke-width="4"/><path d="M50,40 C30,40 30,0 50,0 C70,0 70,40 50,40" fill="${c.f}"/>`;
            else s = `<circle cx="50" cy="80" r="20" fill="none" stroke="${c.b}" stroke-dasharray="5"/>`;
            return `<svg viewBox="0 0 100 120" width="100" class="mx-auto">${s}</svg>`;
        }

        const M_DATA = [
            {n:"ä¸€æœˆ - æ½›ä¼",d:"ä½æº«æ˜¥åŒ–ä¸­ã€‚çƒæ ¹å…§éƒ¨çš„æ¾±ç²‰æ­£è½‰åŒ–ç‚ºç³–åˆ†ï¼Œç‚ºæ˜¥å¤©åšæº–å‚™ã€‚"},
            {n:"ä¸‰æœˆ - ç”¦é†’",d:"èŒèŠ½åˆæœŸã€‚å°–èŠ½è¡ç ´åœŸè¡¨ï¼Œæ­¤æ™‚éœ€è¦å……è¶³çš„å…‰ç…§èˆ‡é©åº¦çš„æ°´åˆ†ã€‚"},
            {n:"å››æœˆ - ç¹ç››",d:"ç”Ÿå‘½å·”å³°ã€‚è‰²å½©æœ€æ¿ƒéƒçš„å­£ç¯€ï¼ŒèŠ±è–æœƒæ ¹æ“šå…‰ç·šæ–¹å‘èª¿æ•´è§’åº¦ã€‚"},
            {n:"å…­æœˆ - æ”¶ç´",d:"å¤å­£ä¼‘çœ ã€‚æŒ–å‡ºçƒæ ¹ï¼Œç½®æ–¼é€šé¢¨ä¹¾ç‡¥è™•ä»¥é˜²è…çˆ›ã€‚"},
            {n:"åæœˆ - å•Ÿå‹•",d:"ç§‹æ¤æ™‚ç¯€ã€‚åœŸæº«é™è‡³15åº¦ä»¥ä¸‹ï¼Œæœ€é©åˆå°‡å¸Œæœ›åŸ‹å…¥åœ°åº•ã€‚"},
            {n:"åäºŒæœˆ - ç¦¦å¯’",d:"æ¨¡æ“¬å¯’æµã€‚ç¢ºä¿çƒæ ¹ç²å¾—è¶³å¤ ä½æº«ï¼Œæ˜å¹´æ‰æœƒé–‹å‡ºå¤§èŠ±ã€‚"}
        ];

        function updateTimeline(v) {
            const idx = Math.min(5, Math.floor((v/101)*6));
            document.getElementById('cal-title').innerText = M_DATA[idx].n;
            document.getElementById('cal-desc').innerText = M_DATA[idx].d;
            document.getElementById('season-drawing').innerHTML = drawL(idx);
        }

        function renderG() {
            const grid = document.getElementById('variety-grid');
            grid.innerHTML = "";
            VARS.forEach(v => {
                const d = document.createElement('div');
                d.className = "glass p-4 rounded-[30px] text-center cursor-pointer hover:bg-white transition hover:scale-105";
                d.onclick = () => openM(v);
                d.innerHTML = `${drawT(v.svg, v.color, 60, 100)}<h5 class="text-[10px] font-bold mt-2">${v.name}</h5>`;
                grid.appendChild(d);
            });
        }

        function openM(v) {
            const m = document.getElementById('m-content');
            m.innerHTML = `
                <div class="mb-10 transform scale-125">${drawT(v.svg, v.color, 100, 160)}</div>
                <h2 class="text-4xl font-bold cute-font text-[#ff758c] mb-2">${v.name}</h2>
                <p class="text-xs tracking-wider text-gray-400 mb-8 uppercase">${v.origin} | ${v.bloomTime} | ${v.height}</p>
                
                <div class="grid md:grid-cols-2 gap-6 text-left w-full mb-6">
                    <div class="glass p-6 rounded-[30px]">
                        <h3 class="text-pink-400 font-bold mb-3 flex items-center">ğŸ“œ æ­·å²èµ·æº</h3>
                        <p class="text-sm leading-relaxed text-gray-700">${v.history}</p>
                    </div>
                    <div class="glass p-6 rounded-[30px]">
                        <h3 class="text-pink-400 font-bold mb-3 flex items-center">ğŸ”¬ ç”Ÿç†ç‰¹å¾µ</h3>
                        <p class="text-sm leading-relaxed text-gray-700">${v.feature}</p>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-4 text-left w-full">
                    <div class="glass p-5 rounded-[25px]">
                        <h3 class="text-green-600 font-bold mb-2 text-sm flex items-center">ğŸŒ± æ ½åŸ¹è¦é»</h3>
                        <p class="text-xs leading-relaxed text-gray-600">${v.care}</p>
                    </div>
                    <div class="glass p-5 rounded-[25px]">
                        <h3 class="text-purple-600 font-bold mb-2 text-sm flex items-center">ğŸ’ èŠ±èªè±¡å¾µ</h3>
                        <p class="text-xs leading-relaxed text-gray-600">${v.lang}</p>
                    </div>
                    <div class="glass p-5 rounded-[25px]">
                        <h3 class="text-blue-600 font-bold mb-2 text-sm flex items-center">âœ¨ æ‡‰ç”¨å ´æ™¯</h3>
                        <p class="text-xs leading-relaxed text-gray-600">${v.use}</p>
                    </div>
                </div>
            `;
            document.getElementById('modal').classList.add('active');
        }

        function closeM() { document.getElementById('modal').classList.remove('active'); }
        function showAna(id) { document.querySelectorAll('.callout').forEach(c=>c.classList.remove('active')); document.getElementById(`ana-${id}`).classList.add('active'); }

        // ç¨®æ¤é‚è¼¯
        function digAll() { pStates.forEach((s, i) => { if(s===0) { pStates[i]=1; document.getElementById(`slot-${i}`).parentElement.classList.add('active'); document.getElementById(`slot-${i}`).innerHTML='<div class="w-8 h-3 bg-black/10 rounded-full"></div>'; } }); }
        function plantAll() { pStates.forEach((s, i) => { if(s===1) { pStates[i]=2; document.getElementById(`slot-${i}`).innerHTML='<div class="w-10 h-10 bg-[#d2b48c] rounded-full mb-[-8px]"></div>'; } }); }
        function waterAll() { pStates.forEach((s, i) => { if(s===2) { pStates[i]=3; pFlrs[i]=VARS[Math.floor(Math.random()*VARS.length)]; document.getElementById(`slot-${i}`).innerHTML=`<div class="grow-anim">${drawT(pFlrs[i].svg, pFlrs[i].color, 60, 120)}</div>`; } }); document.getElementById('hv-btn').classList.remove('hidden'); }
        function hvAll() { pFlrs.forEach(f => { if(f) inventory.push({...f, isC: false}); }); pStates.fill(0); pFlrs.fill(null); document.querySelectorAll('.plot-box').forEach(p=>{p.classList.remove('active'); p.querySelector('div:last-child').innerHTML=""}); document.getElementById('hv-btn').classList.add('hidden'); saveI(); renderInv(); }

        // ç¹ªåœ–é‚è¼¯
        const cvs = document.getElementById('painter'), ctx = cvs.getContext('2d');
        let painting = false;
        function initP() { ctx.lineWidth=6; ctx.lineCap='round'; cvs.onmousedown=(e)=>{painting=true; ctx.beginPath(); const r=cvs.getBoundingClientRect(); ctx.moveTo(e.clientX-r.left, e.clientY-r.top);}; cvs.onmousemove=(e)=>{if(!painting)return; const r=cvs.getBoundingClientRect(); ctx.strokeStyle=currentColor; ctx.lineTo(e.clientX-r.left, e.clientY-r.top); ctx.stroke();}; cvs.onmouseup=()=>{painting=false;}; }
        function setC(c, btn){ currentColor=c; document.querySelectorAll('.color-btn').forEach(b=>b.classList.remove('active')); btn.classList.add('active'); }
        function clrC(){ ctx.clearRect(0,0,200,200); }
        function svD(){ inventory.push({name:"æ‰‹ç¹ªé…æ", img:cvs.toDataURL(), isC:true}); saveI(); renderInv(); clrC(); }
        function saveI(){ localStorage.setItem('tulip_v7_inv', JSON.stringify(inventory)); }

        // åº«å­˜èˆ‡æ²™é¾é‚è¼¯
        function renderInv() {
            const g = document.getElementById('inv-grid'); g.innerHTML = "";
            document.getElementById('inv-c').innerText = inventory.length;
            inventory.forEach((it, i) => {
                const d = document.createElement('div');
                d.className = "glass p-3 rounded-2xl flex items-center justify-center cursor-grab shadow-sm";
                d.setAttribute('draggable', 'true');
                
                // --- iOS é—œéµä¿®æ­£ ---
                d.style.touchAction = 'none'; // ç¦æ­¢æ²å‹•ï¼Œé‡‹æ”¾æ‹–æ‹‰
                d.addEventListener('touchstart', (e) => {
                    // è®“æ‰‹æ©ŸçŸ¥é“æˆ‘å€‘è¦é–‹å§‹æ‹–äº†
                }, {passive: false});

                d.ondragstart = (e) => { 
                    e.dataTransfer.setData("idx", i); 
                    // å¢åŠ è§¸è¦ºå›é¥‹ï¼ˆå¦‚æœæœ‰æ”¯æ´ï¼‰
                    if (window.navigator.vibrate) window.navigator.vibrate(10);
                };
                
                if(it.isC) d.innerHTML = `<img src="${it.img}" class="w-10 h-10 object-contain pointer-events-none">`;
                else d.innerHTML = drawT(it.svg, it.color, 30, 60);
                g.appendChild(d);
            });
        }

        function allow(e) { e.preventDefault(); }
        function plS(e) {
            e.preventDefault();
            const idx = e.dataTransfer.getData("idx");
            const item = inventory[idx];
            if(!item) return;
            const box = document.getElementById('salon-box').getBoundingClientRect();
            const x = e.clientX - box.left - 40;
            const y = e.clientY - box.top - 80;
            const d = document.createElement('div');
            d.className = "draggable-item transition-transform hover:scale-110 pointer-events-auto";
                d.style.left = x + 'px'; d.style.top = y + 'px';
            
            // ensure draggable items are touch-friendly
            d.style.touchAction = 'none';
            d.style.webkitUserDrag = 'element';
            d.onclick = function() { this.remove(); };
            if(item.isC) d.innerHTML = `<img src="${item.img}" class="w-20 h-20 object-contain">`;
            else d.innerHTML = drawT(item.svg, item.color, 80, 150);
            document.getElementById('s-canvas').appendChild(d);
        }

        function clearSalon() { document.getElementById('s-canvas').innerHTML = ""; }

        // ä¸‹è¼‰ä½œå“åŠŸèƒ½ï¼šä¿®æ­£æŒ‰éˆ•é»æ“Š
        function saveArrangement() {
            const box = document.getElementById('salon-box');
            html2canvas(box, { 
                backgroundColor: "#fffafb", 
                scale: 2,
                logging: false,
                useCORS: true
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `tulip-forest-salon-${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            }).catch(err => {
                console.error("ä¸‹è¼‰å‡ºéŒ¯ï¼š", err);
            });
        }

        window.onload = () => {
            // åˆå§‹åŒ–æ‹–æ‹‰ç¿»è­¯æ©Ÿ (æ”¾åœ¨ onload è£¡ç¢ºä¿ script å·²è¼‰å…¥)
            if (window.MobileDragDrop && typeof MobileDragDrop.polyfill === 'function') {
                MobileDragDrop.polyfill({
                    dragImageTranslateOverride: MobileDragDrop.scrollBehaviourDragImageTranslateOverride
                });
            }

            renderG(); renderInv(); initP(); updateTimeline(33);
            document.getElementById('hero-tulip').innerHTML = drawT('classic', 'var(--p)', 120, 180);
            initSalonCanvas();
        };

        // --- Salon drawing layer ---
        function initSalonCanvas() {
            const box = document.getElementById('salon-box');
            const canvas = document.getElementById('salon-canvas');
            if(!canvas || !box) return;
            const ctx = canvas.getContext('2d');

            function resize() {
                const rect = box.getBoundingClientRect();
                const dpr = Math.max(1, window.devicePixelRatio || 1);
                canvas.width = Math.floor(rect.width * dpr);
                canvas.height = Math.floor(rect.height * dpr);
                canvas.style.width = rect.width + 'px';
                canvas.style.height = rect.height + 'px';
                // reset transform then scale once to avoid cumulative scaling
                if (ctx.setTransform) ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.lineWidth = 6;
            }

            let drawing = false;
            let last = { x: 0, y: 0 };

            function getPos(e) {
                const r = canvas.getBoundingClientRect();
                if(e.touches && e.touches[0]) {
                    return { x: e.touches[0].clientX - r.left, y: e.touches[0].clientY - r.top };
                }
                return { x: e.clientX - r.left, y: e.clientY - r.top };
            }

            function start(e) {
                e.preventDefault();
                drawing = true;
                last = getPos(e);
                ctx.beginPath();
                ctx.moveTo(last.x, last.y);
                ctx.strokeStyle = currentColor || '#000';
            }

            function move(e) {
                if(!drawing) return;
                e.preventDefault();
                const p = getPos(e);
                ctx.lineTo(p.x, p.y);
                ctx.stroke();
                last = p;
            }

            function end(e) {
                if(!drawing) return;
                drawing = false;
                ctx.closePath();
            }

            // Mouse
            canvas.addEventListener('mousedown', start, false);
            window.addEventListener('mousemove', move, false);
            window.addEventListener('mouseup', end, false);

            // Touch
            canvas.addEventListener('touchstart', start, { passive: false });
            canvas.addEventListener('touchmove', move, { passive: false });
            canvas.addEventListener('touchend', end, false);

            // Resize observer to adjust canvas
            const ro = new ResizeObserver(resize);
            ro.observe(box);
            resize();
            
            // allow drag/drop to work when dropping onto canvas: forward to salon handlers
            canvas.addEventListener('dragover', function(e){ allow(e); }, false);
            canvas.addEventListener('drop', function(e){ plS(e); }, false);

            // expose clear for use elsewhere
            window.clearSalon = function() {
                // remove draggable items
                const s = document.getElementById('s-canvas');
                Array.from(s.querySelectorAll('.draggable-item')).forEach(n=>n.remove());
                // clear drawing layer
                ctx.clearRect(0,0,canvas.width,canvas.height);
            }
        }
    </script>
</body>
</html>